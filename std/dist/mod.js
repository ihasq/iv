var S=(e,...r)=>[e,r,Symbol.for("STRIX_HTML_IDENTIFIER")];var a=crypto.getRandomValues(new Uint8Array(1024)),m=0,y=e=>a[m==1024?(crypto.getRandomValues(a),m=0):m++]/255,E=(e=16,r="0123457689abcdefghijklmnopqrstuvwxyz",t=r.length)=>Array(e).fill(0).map(n=>r[Math.floor(y(n)*t)]).join("");var b=Symbol("ESPTR");Object.defineProperty(window,b,{value:!0,configurable:!1});var i=(e,r=t=>t)=>{let t=E(32);for(;`Symbol(${t})`in window;)t=E(32);let n=Symbol(t),s=[],u={set $(o){e=r(o)},get $(){return e},[Symbol.toPrimitive](){return n},watch(o){return o&&(o(e),s.push(o)),this},fork(){return i(e)},PTR_IDENTIFIER:b,[Symbol.for("PTR_IDENTIFIER")]:!0};return Object.defineProperty(i,n,{enumerable:!1,configurable:!1,set(o){return s.forEach(c=>c?c(o):void 0),e=r(o),!0},get(){return e}}),Object.defineProperty(window,`Symbol(${t})`,{enumerable:!1,configurable:!1,value:o=>o===n?u:void 0}),u};var l=i((e,r)=>Object.keys(e).forEach(t=>r.addEventListener(t,e[t],{passive:!0})))[Symbol.toPrimitive](),I=new Proxy({},{get:(e,r)=>r==Symbol.toPrimitive?()=>l:i((t,n)=>n.addEventListener(r,t,{passive:!0}))});var f=(e,r,t)=>window[r.PTR_IDENTIFIER]?r.watch(n=>t.setAttribute(e,n)):t.setAttribute(e,r),d=new Proxy({},{get:(e,r)=>r=="toString"?()=>i((t,n)=>Object.keys(t).forEach(s=>f(s,t[s],n))):i((t,n)=>f(r,t,n))});export{i as $,d as at,S as h,I as on};
